# README

ノベルティ製作サービスをWebで運営する際の入稿・管理を行うシステムです。  
Ruby on Rails というフレームワークを使っています。

フォームから配送情報・デザインデータ等を入力し、注文が完了すると自動メールが送信されます。  
注文情報は管理ページによって閲覧・編集を行うことができます。  

管理ページでは、顧客へのメールフォームのほか、  
デザインのデータチェック、注文に関してのメモの追加、製作進捗の管理、料金計算と伝票類のPDF発行を行うことができます。


モデル説明

Orderモデル  
発注者・配送先の情報、決済トークン、など、注文1つ1つの情報を扱う。  
注文に紐づく商品は関連づくproductモデルで管理する

Productモデル
Orderモデル1に対してn個の関係を持つ  
注文の1つ1つの単位を扱う

Administratorモデル  
管理ページにログインするためのDeviseモデル  
基本的にWebから作成することはなく、seedファイルやコンソール操作でモデルを作成する


商品(product)のデフォルト設定
商品は 「デザインデータ」という画像やaiファイルのカラムとは別に  
「アイテム」「サイズ」「包装オプション」という、商品やサービスによって変動しうるパラメータを用意している。  
これらはフォームにおいて<select>タグを用いることを前提にしていて、対応する
「アイテム」には「7種類のサイズパターンがあるキーホルダー」と「サイズが1種類のみのコースター」、
包装オプションは「なし」「OPP個別包装」を例として用意した。  
これらは `app/models/product.rb` のenumによって設定しているため、変更したい場合はそれらを書き足せばいい。  
尚、商品データの日本語表示は `config/locales/models/orders/ja.yml` で自由に設定できる。
独自のカラムを追加する場合はマイグレーションファイルを作成して任意のカラムを作成する。


